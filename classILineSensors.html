<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zumo HAL Interfaces: ILineSensors Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Zumo HAL Interfaces<span id="projectnumber">&#160;v1.3.0</span>
   </div>
   <div id="projectbrief">Zumo C++ Interfaces for abstract hardware abstraction layer.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classILineSensors-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ILineSensors Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span><div class="ingroups"><a class="el" href="group__HALInterfaces.html">Hardware Abstraction Interfaces</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>The abstract line sensors interface.  
 <a href="classILineSensors.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ILineSensors_8h_source.html">ILineSensors.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae23ed954395adaba9fcc095b1fe2f9fa" id="r_ae23ed954395adaba9fcc095b1fe2f9fa"><td class="memItemLeft" align="right" valign="top"><a id="ae23ed954395adaba9fcc095b1fe2f9fa" name="ae23ed954395adaba9fcc095b1fe2f9fa"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><b>~ILineSensors</b> ()</td></tr>
<tr class="memdesc:ae23ed954395adaba9fcc095b1fe2f9fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys the interface. <br /></td></tr>
<tr class="separator:ae23ed954395adaba9fcc095b1fe2f9fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade317997d552cc318d3870cc1cdaa6c9" id="r_ade317997d552cc318d3870cc1cdaa6c9"><td class="memItemLeft" align="right" valign="top"><a id="ade317997d552cc318d3870cc1cdaa6c9" name="ade317997d552cc318d3870cc1cdaa6c9"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>init</b> ()=0</td></tr>
<tr class="memdesc:ade317997d552cc318d3870cc1cdaa6c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the line sensors. <br /></td></tr>
<tr class="separator:ade317997d552cc318d3870cc1cdaa6c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e5eb7a4d72c9c6d646d8dbc6f8019e5" id="r_a9e5eb7a4d72c9c6d646d8dbc6f8019e5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classILineSensors.html#a9e5eb7a4d72c9c6d646d8dbc6f8019e5">calibrate</a> ()=0</td></tr>
<tr class="memdesc:a9e5eb7a4d72c9c6d646d8dbc6f8019e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the sensors for calibration.  <br /></td></tr>
<tr class="separator:a9e5eb7a4d72c9c6d646d8dbc6f8019e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af46bb28816133618cd2c125cf2810b6e" id="r_af46bb28816133618cd2c125cf2810b6e"><td class="memItemLeft" align="right" valign="top">virtual int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classILineSensors.html#af46bb28816133618cd2c125cf2810b6e">readLine</a> ()=0</td></tr>
<tr class="memdesc:af46bb28816133618cd2c125cf2810b6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the deviation and returns an estimated position of the robot with respect to a line.  <br /></td></tr>
<tr class="separator:af46bb28816133618cd2c125cf2810b6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94c173dc47d693aabe515c4445a11e26" id="r_a94c173dc47d693aabe515c4445a11e26"><td class="memItemLeft" align="right" valign="top">virtual const uint16_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classILineSensors.html#a94c173dc47d693aabe515c4445a11e26">getSensorValues</a> ()=0</td></tr>
<tr class="memdesc:a94c173dc47d693aabe515c4445a11e26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get last line sensor values.  <br /></td></tr>
<tr class="separator:a94c173dc47d693aabe515c4445a11e26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56d1eba9a4e204e4fa2900d203a3e11f" id="r_a56d1eba9a4e204e4fa2900d203a3e11f"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classILineSensors.html#a56d1eba9a4e204e4fa2900d203a3e11f">isCalibrationSuccessful</a> ()=0</td></tr>
<tr class="memdesc:a56d1eba9a4e204e4fa2900d203a3e11f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the calibration was successful or not.  <br /></td></tr>
<tr class="separator:a56d1eba9a4e204e4fa2900d203a3e11f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af789fc44cacb45286d43ba2a4b46b702" id="r_af789fc44cacb45286d43ba2a4b46b702"><td class="memItemLeft" align="right" valign="top">virtual uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classILineSensors.html#af789fc44cacb45286d43ba2a4b46b702">getCalibErrorInfo</a> () const =0</td></tr>
<tr class="memdesc:af789fc44cacb45286d43ba2a4b46b702"><td class="mdescLeft">&#160;</td><td class="mdescRight">It will return the index of the sensor, which caused to fail the calibration.  <br /></td></tr>
<tr class="separator:af789fc44cacb45286d43ba2a4b46b702"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cdb5ede774e2dc2f831a567f66fb8ee" id="r_a7cdb5ede774e2dc2f831a567f66fb8ee"><td class="memItemLeft" align="right" valign="top">virtual uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classILineSensors.html#a7cdb5ede774e2dc2f831a567f66fb8ee">getNumLineSensors</a> () const =0</td></tr>
<tr class="memdesc:a7cdb5ede774e2dc2f831a567f66fb8ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get number of used line sensors.  <br /></td></tr>
<tr class="separator:a7cdb5ede774e2dc2f831a567f66fb8ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a675e7c7138563971c7179709d8ff1516" id="r_a675e7c7138563971c7179709d8ff1516"><td class="memItemLeft" align="right" valign="top">virtual int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classILineSensors.html#a675e7c7138563971c7179709d8ff1516">getSensorValueMax</a> () const =0</td></tr>
<tr class="memdesc:a675e7c7138563971c7179709d8ff1516"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get max.  <br /></td></tr>
<tr class="separator:a675e7c7138563971c7179709d8ff1516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8832822f00457629a508f2017d7ba773" id="r_a8832822f00457629a508f2017d7ba773"><td class="memItemLeft" align="right" valign="top"><a id="a8832822f00457629a508f2017d7ba773" name="a8832822f00457629a508f2017d7ba773"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>resetCalibration</b> ()=0</td></tr>
<tr class="memdesc:a8832822f00457629a508f2017d7ba773"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the maximum and minimum values measured by each sensor. <br /></td></tr>
<tr class="separator:a8832822f00457629a508f2017d7ba773"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a90b00ce1c655b6ae49e46b31e183425e" id="r_a90b00ce1c655b6ae49e46b31e183425e"><td class="memItemLeft" align="right" valign="top"><a id="a90b00ce1c655b6ae49e46b31e183425e" name="a90b00ce1c655b6ae49e46b31e183425e"></a>
static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>CALIB_ERROR_OK</b> = 0xFF</td></tr>
<tr class="memdesc:a90b00ce1c655b6ae49e46b31e183425e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calibration error information: Calibration successful. <br /></td></tr>
<tr class="separator:a90b00ce1c655b6ae49e46b31e183425e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3234bc91b8ea747bb0b6384c1905f0b6" id="r_a3234bc91b8ea747bb0b6384c1905f0b6"><td class="memItemLeft" align="right" valign="top"><a id="a3234bc91b8ea747bb0b6384c1905f0b6" name="a3234bc91b8ea747bb0b6384c1905f0b6"></a>
static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>CALIB_ERROR_NOT_CALIBRATED</b> = 0xFE</td></tr>
<tr class="memdesc:a3234bc91b8ea747bb0b6384c1905f0b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calibration error information: Calibration not done yet. <br /></td></tr>
<tr class="separator:a3234bc91b8ea747bb0b6384c1905f0b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a6edcc242d1959c5842cf5dfc0c54013a" id="r_a6edcc242d1959c5842cf5dfc0c54013a"><td class="memItemLeft" align="right" valign="top"><a id="a6edcc242d1959c5842cf5dfc0c54013a" name="a6edcc242d1959c5842cf5dfc0c54013a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ILineSensors</b> ()</td></tr>
<tr class="memdesc:a6edcc242d1959c5842cf5dfc0c54013a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs the interface. <br /></td></tr>
<tr class="separator:a6edcc242d1959c5842cf5dfc0c54013a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The abstract line sensors interface. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a9e5eb7a4d72c9c6d646d8dbc6f8019e5" name="a9e5eb7a4d72c9c6d646d8dbc6f8019e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e5eb7a4d72c9c6d646d8dbc6f8019e5">&#9670;&#160;</a></span>calibrate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ILineSensors::calibrate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads the sensors for calibration. </p>
<p>Call this method several times during turning the sensors over the line to determine the minimum and maximum values.</p>
<p>The calibration factors are stored internally. </p>

</div>
</div>
<a id="af789fc44cacb45286d43ba2a4b46b702" name="af789fc44cacb45286d43ba2a4b46b702"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af789fc44cacb45286d43ba2a4b46b702">&#9670;&#160;</a></span>getCalibErrorInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint8_t ILineSensors::getCalibErrorInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>It will return the index of the sensor, which caused to fail the calibration. </p>
<p>If calibration was successful, it will return 0xFF. If calibration was not not done yet, it will return 0xFE.</p>
<dl class="section return"><dt>Returns</dt><dd>Sensor index, starting with 0. Note the other cases in description. </dd></dl>

</div>
</div>
<a id="a7cdb5ede774e2dc2f831a567f66fb8ee" name="a7cdb5ede774e2dc2f831a567f66fb8ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cdb5ede774e2dc2f831a567f66fb8ee">&#9670;&#160;</a></span>getNumLineSensors()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint8_t ILineSensors::getNumLineSensors </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get number of used line sensors. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of used line sensors </dd></dl>

</div>
</div>
<a id="a675e7c7138563971c7179709d8ff1516" name="a675e7c7138563971c7179709d8ff1516"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a675e7c7138563971c7179709d8ff1516">&#9670;&#160;</a></span>getSensorValueMax()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int16_t ILineSensors::getSensorValueMax </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get max. </p>
<p>value of a single line sensor in digits. The sensor value is indirect proportional to the reflectance.</p>
<dl class="section return"><dt>Returns</dt><dd>Max. line sensor value </dd></dl>

</div>
</div>
<a id="a94c173dc47d693aabe515c4445a11e26" name="a94c173dc47d693aabe515c4445a11e26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94c173dc47d693aabe515c4445a11e26">&#9670;&#160;</a></span>getSensorValues()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const uint16_t * ILineSensors::getSensorValues </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get last line sensor values. </p>
<dl class="section return"><dt>Returns</dt><dd>Line sensor values </dd></dl>

</div>
</div>
<a id="a56d1eba9a4e204e4fa2900d203a3e11f" name="a56d1eba9a4e204e4fa2900d203a3e11f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56d1eba9a4e204e4fa2900d203a3e11f">&#9670;&#160;</a></span>isCalibrationSuccessful()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool ILineSensors::isCalibrationSuccessful </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks whether the calibration was successful or not. </p>
<p>It assumes that the environment brightness compensation is active.</p>
<dl class="section return"><dt>Returns</dt><dd>If successful, it will return true otherwise false. </dd></dl>

</div>
</div>
<a id="af46bb28816133618cd2c125cf2810b6e" name="af46bb28816133618cd2c125cf2810b6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af46bb28816133618cd2c125cf2810b6e">&#9670;&#160;</a></span>readLine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int16_t ILineSensors::readLine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines the deviation and returns an estimated position of the robot with respect to a line. </p>
<p>The estimate is made using a weighted average of the sensor indices multiplied by 1000, so that a return value of 0 indicates that the line is directly below sensor 0, a return value of 1000 indicates that the line is directly below sensor 1, 2000 indicates that it's below sensor 2000, etc. Intermediate values indicate that the line is between two sensors. The formula is:</p>
<h2><a class="anchor" id="autotoc_md0"></a>
0*value0 + 1000*value1 + 2000*value2 + ...</h2>
<p>value0 + value1 + value2 + ...</p>
<p>This function assumes a dark line (high values) surrounded by white (low values).</p>
<dl class="section return"><dt>Returns</dt><dd>Estimated position with respect to track. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/github/workspace/include/<a class="el" href="ILineSensors_8h_source.html">ILineSensors.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
